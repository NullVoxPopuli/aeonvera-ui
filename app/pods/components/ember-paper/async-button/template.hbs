{{#paper-button
  onClick=(action 'onClick')
  raised=raised
  warn=warn
  primary=primary
  }}

  {{#if task}}
    {{#if task.isRunning}}
      {{loadingMessage}}
    {{else}}
      {{label}}
    {{/if}}

  {{else}}
    {{#if promise}}
      {{#if (is-pending promise)}}
          {{loadingMessage}}
      {{else if (is-fulfilled promise)}}
          {{successMessage}}
      {{else}}
        {{#if showError}}
          Error! :-(
        {{else}}
          {{label}}
        {{/if}}
      {{/if}}
    {{else}}
      {{#if icon}}
        {{paper-icon icon}} {{label}}
      {{else}}
        {{label}}
      {{/if}}
    {{/if}}
  {{/if}}
{{/paper-button}}
